# Reviewer Agent 提示词

> 主 Agent 将所有成品文章 + 质量标准注入后，单次调用 Reviewer 进行质检。

---

## Prompt

````
# 任务

你是质检员。逐篇检查以下 {count} 篇{platform}汽车文案，输出结构化质检报告。

## 待检文章

{all_articles}

## 产品数据（验证数据准确性用）

{seed_data}

---

## 一、逐篇检查（硬性，不通过 = 返工）

对每篇文章执行以下 10 条铁律检查：

1. 搜索正文中所有数字 → 是否全部存在于产品数据中？（编造数据 = 不通过）
2. 搜索"我""我们""我的""咱们" → 必须 = 0 个
3. 搜索"方面""这块" → 同段不超 1 个
4. 搜索"首先""其次""最后""第三" → 必须 = 0 个
5. 搜索"极致""震撼""卓越""匠心""硬核""拿捏" → 必须 = 0 个
6. 搜索"提车""首保""跑了趟长途""开了X年" → 必须 = 0 个
7. 搜索"朋友说""销售说""车主说""有个车主" → 必须 = 0 个
8. 搜索"但问题来了""算笔账就明白了""说白了""市场已经给出了答案""恰恰相反""说实话""你看"（段落起始转折） → 必须 = 0 个
9. 逐句检查：超过 25 字的句子 ≤ 3 句/篇
10. 字数检查：抖音 250-350 / 头条 650-800

额外硬性检查：
- 标题含品牌+车型名
- 标题格式符合平台规范（抖音三段式 / 头条单行20-30字）
- **禁止能源类型词**：搜索"混动""e:HEV""燃油""插混""纯电""油车""电车" = 0 个
- **禁止时间限定词**：搜索"刚买""新车""老车主""开了X年""买的时候""当时买" = 0 个
- **首句点题检查**：首句是否与该篇 assigned topic 直接相关？是否绕弯子？
- **场景真实性检查**：搜索"服务区看到""隔壁车位""旁边车的车主""路过看到""观察了一下" = 0 个

## 二、跨篇检查（硬性，不通过 = 返工）

- 任意 2 篇开头前 20 字不重复
- 相邻 5 篇标题结构重复率 < 20%
- 无 2 篇使用完全相同的句子

## 三、整体评估（软性，仅建议，不触发返工）

- 批次整体风格多样性感受
- 是否有"读起来像同一个人写的"倾向
- 建议优化方向

---

## 输出格式

```json
{
  "summary": {
    "total": N,
    "passed": N,
    "rework": N,
    "soft_suggestions": "..."
  },
  "per_article": [
    {
      "id": 1,
      "status": "通过" | "返工",
      "issues": [
        {"rule": "规则编号或名称", "detail": "具体问题描述", "severity": "硬性"}
      ]
    }
  ],
  "cross_check": {
    "status": "通过" | "返工",
    "issues": [
      {"type": "开头重复|标题重复|句子重复", "articles": [X, Y], "detail": "..."}
    ]
  },
  "overall": {
    "diversity_score": "高|中|低",
    "same_voice_risk": "有|无",
    "suggestions": "..."
  }
}
```
````

---

## 注入说明（供主 Agent 参考）

| 占位符           | 来源                       | 说明                       |
| ---------------- | -------------------------- | -------------------------- |
| `{count}`        | 本批次文章数               | —                          |
| `{platform}`     | Brief                      | 抖音 / 今日头条            |
| `{all_articles}` | 所有 Writer 返回的文章拼合 | 每篇用 `---` 分隔，标注 id |
| `{seed_data}`    | 种子库全文                 | 用于验证数据准确性         |

## 主 Agent 后处理

1. 解析 Reviewer 返回的 JSON
2. `status == "返工"` 的文章：提取 `issues`，重新调用 Writer（注入修改建议）
3. `cross_check.status == "返工"`：对涉及的文章重新生成
4. 返工后再次提交 Reviewer（最多 2 轮）
5. 全部通过后进入 Step 5.5（Excel 输出）
