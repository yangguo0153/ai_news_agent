# 审核者 - 硬性规则清单

> 用途：可机械检查的规则，审核者必须逐项检查
> 特点：非黑即白，无灰色地带

---

## 一、字数规则

| 平台 | 字数范围 | 检查方法 |
|------|---------|---------|
| 抖音 | 250-350字 | `len(content)` |
| 今日头条 | 400-500字 | `len(content)` |

**判定**：
- ✅ 通过：字数在范围内
- ❌ 不通过：字数不足或超出

---

## 二、结构规则

### 2.1 段落数量

**要求**：必须是 4 段

**检查方法**：
```python
paragraphs = content.split('\n\n')
if len(paragraphs) != 4:
    return False
```

---

### 2.2 开头必须包含

**要求**：时间触发词（每到/一到/每年/每次）

**检查方法**：
```python
time_triggers = ['每到', '一到', '每年', '每次', '每当']
if not any(trigger in content[:100] for trigger in time_triggers):
    return False
```

---

### 2.3 必须包含"你"

**要求**：全篇至少出现 1 次"你"开头的句子

**检查方法**：
```python
sentences = content.split('。')
if not any(s.strip().startswith('你') for s in sentences):
    return False
```

---

## 三、参数规则

### 3.1 参数数量

**要求**：单篇参数不超过 2 个

**参数定义**：
- 10气囊
- ACE车身
- 980Mpa防撞梁
- Honda SENSING 360
- MM理念
- 保值率60.27%
- ...

**检查方法**：
```python
params = ['10气囊', 'ACE车身', '980Mpa', 'Honda SENSING', 'MM理念', '保值率']
count = sum(1 for p in params if p in content)
if count > 2:
    return False
```

---

### 3.2 禁止单一轻量配置

**禁止作为主角**：
- 唱吧/爱奇艺
- LED大灯
- 单一声控功能
- 90度车门

**检查方法**：
```python
light_configs = ['唱吧', '爱奇艺', 'LED大灯', '声控', '90度车门']
# 如果这些词出现，但没有大维度卖点，则不通过
if any(lc in content for lc in light_configs):
    big_dimensions = ['空间', '安全', '智能', '省心', '保值']
    if not any(bd in content for bd in big_dimensions):
        return False
```

---

## 四、禁用词规则

### 4.1 AI句式黑名单

**禁止出现**：
- "说实话"
- "但问题来了"
- "你看"
- "首先XX，其次XX"
- "XX方面"
- "不得不说"

**检查方法**：
```python
ai_phrases = ['说实话', '但问题来了', '你看', '首先', '其次', '方面', '不得不说']
if any(phrase in content for phrase in ai_phrases):
    return False
```

---

### 4.2 负面词汇（春节场景）

**禁止出现**：
- "套路"
- "坑"
- "骗"
- "智商税"
- "买教训"

**检查方法**：
```python
negative_words = ['套路', '坑', '骗', '智商税', '买教训']
if any(word in content for word in negative_words):
    return False
```

---

### 4.3 过度直白表达

**禁止出现**：
- "父母年纪大了，孩子还小，万一遇到紧急情况"
- "这10个气囊就是最后的保护"
- "安全最重要"

**检查方法**：
```python
too_direct = ['万一遇到紧急情况', '最后的保护', '安全最重要']
if any(phrase in content for phrase in too_direct):
    return False
```

---

## 五、能源类型规则

**禁止出现**：
- 混动
- 燃油
- 电动

**原因**：避免限定能源类型，保持通用性

**检查方法**：
```python
energy_types = ['混动', '燃油', '电动']
if any(et in content for et in energy_types):
    return False
```

---

## 六、时间表达规则

**禁止出现**：
- "刚买"
- "开了X年"
- "用了X个月"

**原因**：避免具体时间，保持通用性

**检查方法**：
```python
time_expressions = ['刚买', '开了', '用了']
if any(te in content for te in time_expressions):
    return False
```

---

## 七、相邻篇去重规则

### 7.1 开头去重

**要求**：相邻 5 篇的开头不能重复

**检查方法**：
```python
recent_openings = get_recent_openings(n=5)
current_opening = content.split('。')[0]
if current_opening in recent_openings:
    return False
```

---

### 7.2 短语去重

**要求**：相邻 5 篇不能出现相同的特征短语

**特征短语定义**：
- 长度 > 10 字
- 非常用语
- 有明显特征

**检查方法**：
```python
recent_phrases = get_recent_phrases(n=5)
current_phrases = extract_phrases(content)
if any(phrase in recent_phrases for phrase in current_phrases):
    return False
```

---

## 八、审核流程

### Step 1：逐项检查

```python
def review(content, context):
    issues = []

    # 1. 字数检查
    if not check_word_count(content):
        issues.append("字数不符合要求")

    # 2. 结构检查
    if not check_structure(content):
        issues.append("结构不符合要求")

    # 3. 参数检查
    if not check_params(content):
        issues.append("参数数量超标或使用轻量配置")

    # 4. 禁用词检查
    if not check_banned_words(content):
        issues.append("包含禁用词")

    # 5. 去重检查
    if not check_duplication(content, context):
        issues.append("与相邻篇重复")

    return issues
```

### Step 2：生成修改建议

```python
def generate_suggestions(issues):
    suggestions = []

    for issue in issues:
        if "字数" in issue:
            suggestions.append("增加/删减内容，调整至250-350字")
        elif "结构" in issue:
            suggestions.append("调整为4段式结构")
        elif "参数" in issue:
            suggestions.append("减少参数数量，或整合为大维度卖点")
        elif "禁用词" in issue:
            suggestions.append("删除禁用词，用其他表达替代")
        elif "重复" in issue:
            suggestions.append("更换开头或特征短语")

    return suggestions
```

---

## 九、审核结果输出

```json
{
  "id": "content_001",
  "passed": false,
  "issues": [
    "字数不足（仅200字）",
    "包含禁用词：说实话",
    "与第3篇开头重复"
  ],
  "suggestions": [
    "增加场景描写，调整至250-350字",
    "删除'说实话'，用其他过渡词替代",
    "更换开头，避免与第3篇重复"
  ],
  "attempt": 1
}
```

---

_审核者材料 v1.0_
